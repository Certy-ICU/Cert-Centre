"use strict";var we=Object.create;var h=Object.defineProperty;var Ie=Object.getOwnPropertyDescriptor;var He=Object.getOwnPropertyNames;var _e=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty;var Re=(e,t)=>{for(var n in t)h(e,n,{get:t[n],enumerable:!0})},Y=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of He(t))!Ne.call(e,o)&&o!==n&&h(e,o,{get:()=>t[o],enumerable:!(r=Ie(t,o))||r.enumerable});return e};var $=(e,t,n)=>(n=e!=null?we(_e(e)):{},Y(t||!e||!e.__esModule?h(n,"default",{value:e,enumerable:!0}):n,e)),Oe=e=>Y(h({},"__esModule",{value:!0}),e);var ot={};Re(ot,{AutoplayTypes:()=>L,CmcdTypeValues:()=>Ue,CmcdTypes:()=>E,ExtensionMimeTypeMap:()=>b,Hls:()=>f,MediaError:()=>m,MimeTypeShorthandMap:()=>P,PlaybackTypes:()=>I,StreamTypes:()=>v,addCuePoints:()=>V,addTextTrack:()=>H,allMediaTypes:()=>We,generatePlayerInitTime:()=>ze,generateUUID:()=>ge,getActiveCuePoint:()=>U,getCuePoints:()=>re,getCuePointsTrack:()=>C,getCurrentPdt:()=>ae,getEnded:()=>xe,getError:()=>Ze,getLiveEdgeStart:()=>tt,getMediaPlaylistLinesFromMultivariantPlaylistSrc:()=>de,getSeekable:()=>Me,getStartDate:()=>oe,getStreamInfoFromHlsjsLevelDetails:()=>fe,getStreamInfoFromPlaylistLines:()=>pe,getStreamInfoFromSrcAndType:()=>le,getStreamType:()=>je,getStreamTypeConfig:()=>Pe,getTargetLiveWindow:()=>et,initialize:()=>rt,isKeyOf:()=>w,isMuxVideoSrc:()=>K,isPseudoEnded:()=>be,loadMedia:()=>Se,mux:()=>D.default,muxMediaState:()=>y,removeTextTrack:()=>te,setupCuePoints:()=>F,setupHls:()=>Ee,setupMux:()=>Ae,shorthandKeys:()=>Fe,teardown:()=>ke,toMuxVideoURL:()=>Xe,updateStreamInfoFromHlsjsLevelDetails:()=>Te,updateStreamInfoFromSrc:()=>W});module.exports=Oe(ot);var D=$(require("mux-embed"));var z=$(require("hls.js")),f=z.default;var x=class extends Error{constructor(n,r=x.MEDIA_ERR_CUSTOM,o,a){var s;super(n);this.name="MediaError",this.code=r,this.context=a,this.fatal=o!=null?o:r>=x.MEDIA_ERR_NETWORK&&r<=x.MEDIA_ERR_ENCRYPTED,this.message||(this.message=(s=x.defaultMessages[this.code])!=null?s:"")}},m=x;m.MEDIA_ERR_ABORTED=1,m.MEDIA_ERR_NETWORK=2,m.MEDIA_ERR_DECODE=3,m.MEDIA_ERR_SRC_NOT_SUPPORTED=4,m.MEDIA_ERR_ENCRYPTED=5,m.MEDIA_ERR_CUSTOM=100,m.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var Ve=e=>e==null,w=(e,t)=>Ve(t)?!1:e in t,L={ANY:"any",MUTED:"muted"},v={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},I={MSE:"mse",NATIVE:"native"},E={HEADER:"header",QUERY:"query",NONE:"none"},Ue=Object.values(E),b={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},P={HLS:b.M3U8},Fe=Object.keys(P),We=[...Object.values(b),"hls","HLS"];var M=(e,t,n,r,o=e)=>{o.addEventListener(t,n,r),e.addEventListener("teardown",()=>{o.removeEventListener(t,n)},{once:!0})};function X(e,t,n){t&&n>t&&(n=t);for(let r=0;r<e.length;r++)if(e.start(r)<=n&&e.end(r)>=n)return!0;return!1}var G=e=>{let t=e.indexOf("?");if(t<0)return[e];let n=e.slice(0,t),r=e.slice(t);return[n,r]},A=e=>{let t=e.type;if(t){let r=t.toUpperCase();return w(r,P)?P[r]:t}let{src:n}=e;return n?Be(n):""},_=e=>e==="VOD"?v.ON_DEMAND:v.LIVE,N=e=>e==="EVENT"?Number.POSITIVE_INFINITY:e==="VOD"?Number.NaN:0,Be=e=>{let t="";try{t=new URL(e).pathname}catch{console.error("invalid url")}let n=t.lastIndexOf(".");if(n<0)return"";let o=t.slice(n+1).toUpperCase();return w(o,b)?b[o]:""};var Ke=Object.values(L),J=e=>typeof e=="boolean"||typeof e=="string"&&Ke.includes(e),Q=({autoplay:e},t,n)=>{let r=!1,o=!1,a=J(e)?e:!!e,s=()=>{r||M(t,"playing",()=>{r=!0},{once:!0})};if(s(),M(t,"loadstart",()=>{r=!1,s(),R(t,a)},{once:!0}),M(t,"loadstart",()=>{n||(o=!Number.isFinite(t.duration)),R(t,a)},{once:!0}),n&&n.once(f.Events.LEVEL_LOADED,(c,u)=>{var d;o=(d=u.details.live)!=null?d:!1}),!a){let c=()=>{!o||(n!=null&&n.liveSyncPosition?t.currentTime=n.liveSyncPosition:Number.isFinite(t.seekable.end(0))&&(t.currentTime=t.seekable.end(0)))};n&&M(t,"play",()=>{t.preload==="metadata"?n.once(f.Events.LEVEL_UPDATED,c):c()},{once:!0})}return c=>{r||(a=J(c)?c:!!c,R(t,a))}},R=(e,t)=>{if(!t)return;let n=e.muted,r=()=>e.muted=n;switch(t){case L.ANY:e.play().catch(()=>{e.muted=!0,e.play().catch(r)});break;case L.MUTED:e.muted=!0,e.play().catch(r);break;default:e.play().catch(()=>{});break}};var Z=({preload:e,src:t},n,r)=>{let o=p=>{p!=null&&["","none","metadata","auto"].includes(p)?n.setAttribute("preload",p):n.removeAttribute("preload")};if(!r)return o(e),o;let a=!1,s=!1,i=r.config.maxBufferLength,c=r.config.maxBufferSize,u=p=>{o(p);let l=p!=null?p:n.preload;s||l==="none"||(l==="metadata"?(r.config.maxBufferLength=1,r.config.maxBufferSize=1):(r.config.maxBufferLength=i,r.config.maxBufferSize=c),d())},d=()=>{!a&&t&&(a=!0,r.loadSource(t))};return M(n,"play",()=>{s=!0,r.config.maxBufferLength=i,r.config.maxBufferSize=c,d()},{once:!0}),u(e),u};function j(e,t){var c;if(!("videoTracks"in e))return;let n=new WeakMap;t.on(f.Events.MANIFEST_PARSED,function(u,d){i();let p=e.addVideoTrack("main");p.selected=!0;for(let[l,T]of d.levels.entries()){let g=p.addRendition(T.url[0],T.width,T.height,T.videoCodec,T.bitrate);n.set(T,`${l}`),g.id=`${l}`}}),t.on(f.Events.AUDIO_TRACKS_UPDATED,function(u,d){if(s(),!(d.audioTracks.length<=1))for(let p of d.audioTracks){let l=p.default?"main":"alternative",T=e.addAudioTrack(l,p.name,p.lang);T.id=`${p.id}`,p.default&&(T.enabled=!0)}}),e.audioTracks.addEventListener("change",()=>{t.audioTrack=[...e.audioTracks].find(u=>u.enabled).id}),t.on(f.Events.LEVELS_UPDATED,function(u,d){var T;let p=e.videoTracks[(T=e.videoTracks.selectedIndex)!=null?T:0];if(!p)return;let l=d.levels.map(g=>n.get(g));for(let g of e.videoRenditions)g.id&&!l.includes(g.id)&&p.removeRendition(g)});let r=u=>{let d=u.target.selectedIndex;d!=t.nextLevel&&o(d)},o=u=>{let d=e.currentTime,p=!1,l=(T,g)=>{p||(p=!Number.isFinite(g.endOffset))};t.on(f.Events.BUFFER_FLUSHING,l),t.nextLevel=u,t.off(f.Events.BUFFER_FLUSHING,l),p||t.trigger(f.Events.BUFFER_FLUSHING,{startOffset:d+10,endOffset:1/0,type:"video"})};(c=e.videoRenditions)==null||c.addEventListener("change",r);let a=()=>{for(let u of e.videoTracks)e.removeVideoTrack(u)},s=()=>{for(let u of e.audioTracks)e.removeAudioTrack(u)},i=()=>{a(),s()};t.once(f.Events.DESTROYING,i)}function ee(e,t){t.on(f.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(o,{tracks:a})=>{a.forEach(s=>{var u;let i=(u=s.subtitleTrack)!=null?u:s.closedCaptions,c=t.subtitleTracks.findIndex(({lang:d,name:p,type:l})=>d==(i==null?void 0:i.lang)&&p===s.label&&l.toLowerCase()===s.kind);H(e,s.kind,s.label,i==null?void 0:i.lang,`${s.kind}${c}`)})});let n=()=>{var s;if(!t.subtitleTracks.length)return;let o=Array.from(e.textTracks).find(i=>i.id&&i.mode==="showing"&&["subtitles","captions"].includes(i.kind)),a=`${(s=t.subtitleTracks[t.subtitleTrack])==null?void 0:s.type.toLowerCase()}${t.subtitleTrack}`;if(o&&(t.subtitleTrack<0||(o==null?void 0:o.id)!==a)){let i=t.subtitleTracks.findIndex(({lang:c,name:u,type:d})=>c==o.language&&u===o.label&&d.toLowerCase()===o.kind);t.subtitleTrack=i}o&&(o==null?void 0:o.id)===a&&o.cues&&Array.from(o.cues).forEach(i=>{o.addCue(i)})};e.textTracks.addEventListener("change",n),t.on(f.Events.CUES_PARSED,(o,{track:a,cues:s})=>{let i=e.textTracks.getTrackById(a);if(!i)return;let c=i.mode==="disabled";c&&(i.mode="hidden"),s.forEach(u=>{var d;(d=i.cues)!=null&&d.getCueById(u.id)||i.addCue(u)}),c&&(i.mode="disabled")}),t.once(f.Events.DESTROYING,()=>{e.textTracks.removeEventListener("change",n),e.querySelectorAll("track[data-removeondestroy]").forEach(a=>{a.remove()})});let r=()=>{Array.from(e.textTracks).forEach(o=>{var a,s;if(!["subtitles","caption"].includes(o.kind)&&o.label==="thumbnails"){if(!((a=o.cues)!=null&&a.length)){let i=e.querySelector('track[label="thumbnails"]'),c=(s=i==null?void 0:i.getAttribute("src"))!=null?s:"";i==null||i.removeAttribute("src"),setTimeout(()=>{i==null||i.setAttribute("src",c)},0)}o.mode!=="hidden"&&(o.mode="hidden")}})};t.once(f.Events.MANIFEST_LOADED,r),t.once(f.Events.MEDIA_ATTACHED,r)}function H(e,t,n,r,o){let a=document.createElement("track");return a.kind=t,a.label=n,r&&(a.srclang=r),o&&(a.id=o),a.track.mode=["subtitles","captions"].includes(t)?"disabled":"hidden",a.setAttribute("data-removeondestroy",""),e.append(a),a.track}function te(e,t){let n=Array.prototype.find.call(e.querySelectorAll("track"),r=>r.track===t);n==null||n.remove()}var S="cuepoints",O=Object.freeze({label:S}),C=(e,{label:t=S}=O)=>{var n;return(n=Array.from(e.querySelectorAll("track")).find(r=>r.track.label===t&&r.track.kind==="metadata"))==null?void 0:n.track};async function V(e,t,n=O){let r=C(e,n);if(!r){let{label:o=S}=n;r=H(e,"metadata",o),r.mode="hidden",await new Promise(a=>setTimeout(()=>a(void 0),0))}return r.mode!=="hidden"&&(r.mode="hidden"),[...t].sort(({time:o},{time:a})=>a-o).forEach(({time:o,value:a})=>{var p,l;let s=Array.prototype.findIndex.call(r==null?void 0:r.cues,T=>T.startTime>=o),i=(p=r==null?void 0:r.cues)==null?void 0:p[s],c=i?i.startTime:Number.isFinite(e.duration)?e.duration:Number.MAX_SAFE_INTEGER,u=(l=r==null?void 0:r.cues)==null?void 0:l[s-1];u&&(u.endTime=o);let d=new VTTCue(o,c,JSON.stringify(a!=null?a:null));r.addCue(d)}),r}var ne=e=>({time:e.startTime,value:JSON.parse(e.text)});function re(e,t={label:S}){let n=C(e,t);return n!=null&&n.cues?Array.from(n.cues,r=>ne(r)):[]}function U(e,t={label:S}){var a,s;let n=C(e,t);if(!((a=n==null?void 0:n.activeCues)!=null&&a.length))return;let{currentTime:r}=e,o=Array.prototype.find.call((s=n.activeCues)!=null?s:[],({startTime:i,endTime:c})=>i<=r&&c>r);return ne(o)}async function F(e,t=O){return new Promise(n=>{M(e,"loadstart",async()=>{let r=await V(e,[],t);M(e,"cuechange",()=>{let o=U(e);if(o){let a=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:o});e.dispatchEvent(a)}},{},r),n(r)})})}function oe(e,t){if(t){let n=t.playingDate;if(n!=null)return new Date(n.getTime()-e.currentTime*1e3)}return typeof e.getStartDate=="function"?e.getStartDate():new Date(NaN)}function ae(e,t){if(t&&t.playingDate)return t.playingDate;if(typeof e.getStartDate=="function"){let n=e.getStartDate();return new Date(n.getTime()+e.currentTime*1e3)}return new Date(NaN)}var de=async e=>fetch(e).then(t=>t.text()).then(t=>{let n=t.split(`
`).find((r,o,a)=>o&&a[o-1].startsWith("#EXT-X-STREAM-INF"));return fetch(n).then(r=>r.text()).then(r=>r.split(`
`))}),pe=e=>{var s,i;let n=(i=((s=e.find(c=>c.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?s:"").split(":")[1])==null?void 0:i.trim(),r=_(n),o=N(n),a;if(r===v.LIVE){let c=e.find(d=>d.startsWith("#EXT-X-PART-INF"));!!c?a=+c.split(":")[1].split("=")[1]*2:a=+e.find(l=>l.startsWith("#EXT-X-TARGETDURATION")).split(":")[1]*3}return{streamType:r,targetLiveWindow:o,liveEdgeStartOffset:a}},le=async(e,t)=>{if(t===b.MP4)return{streamType:v.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0};if(t===b.M3U8){let n=await de(e);return pe(n)}return console.error(`Media type ${t} is an unrecognized or unsupported type for src ${e}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0}},W=async(e,t,n=A({src:e}))=>{var s,i,c;let{streamType:r,targetLiveWindow:o,liveEdgeStartOffset:a}=await le(e,n);((s=y.get(t))!=null?s:{}).liveEdgeStartOffset=a,((i=y.get(t))!=null?i:{}).targetLiveWindow=o,t.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((c=y.get(t))!=null?c:{}).streamType=r,t.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},fe=e=>{var s;let t=e.type,n=_(t),r=N(t),o,a=!!((s=e.partList)!=null&&s.length);return n===v.LIVE&&(o=a?e.partTarget*2:e.targetduration*3),{streamType:n,targetLiveWindow:r,liveEdgeStartOffset:o,lowLatency:a}},Te=(e,t,n)=>{var i,c,u,d,p,l,T,g;let{streamType:r,targetLiveWindow:o,liveEdgeStartOffset:a,lowLatency:s}=fe(e);if(r===v.LIVE){s?(n.config.backBufferLength=(i=n.userConfig.backBufferLength)!=null?i:4,n.config.maxFragLookUpTolerance=(c=n.userConfig.maxFragLookUpTolerance)!=null?c:.001,n.config.abrBandWidthUpFactor=(u=n.userConfig.abrBandWidthUpFactor)!=null?u:n.config.abrBandWidthFactor):n.config.backBufferLength=(d=n.userConfig.backBufferLength)!=null?d:8;let he=Object.freeze({get length(){return t.seekable.length},start(k){return t.seekable.start(k)},end(k){var q;return k>this.length?t.seekable.end(k):(q=n.liveSyncPosition)!=null?q:t.seekable.end(k)}});((p=y.get(t))!=null?p:{}).seekable=he}((l=y.get(t))!=null?l:{}).liveEdgeStartOffset=a,((T=y.get(t))!=null?T:{}).targetLiveWindow=o,t.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((g=y.get(t))!=null?g:{}).streamType=r,t.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},ie,se,qe=(se=(ie=globalThis==null?void 0:globalThis.navigator)==null?void 0:ie.userAgent)!=null?se:"",Ye=qe.toLowerCase().indexOf("android")!==-1,y=new WeakMap,ye="mux.com",ce,ue,me=(ue=(ce=f).isSupported)==null?void 0:ue.call(ce),$e=Ye,ze=()=>D.default.utils.now(),ge=D.default.utils.generateUUID,Xe=(e,{domain:t=ye,maxResolution:n=""}={})=>{if(!e)return;let[r,o=""]=G(e),a=new URL(`https://stream.${t}/${r}.m3u8${o}`);return n&&a.searchParams.set("max_resolution",n),a.toString()},Ge=e=>{if(!e)return;let[t]=e.split("?");return t||void 0},Je=e=>{if(!e||!e.startsWith("https://stream."))return;let[t]=new URL(e).pathname.slice(1).split(".m3u8");return t||void 0},Qe=e=>{var t,n,r;return(t=e==null?void 0:e.metadata)!=null&&t.video_id?e.metadata.video_id:K(e)&&(r=(n=Ge(e.playbackId))!=null?n:Je(e.src))!=null?r:e.src},Ze=e=>{var t;return(t=y.get(e))==null?void 0:t.error},je=e=>{var t,n;return(n=(t=y.get(e))==null?void 0:t.streamType)!=null?n:v.UNKNOWN},et=e=>{var t,n;return(n=(t=y.get(e))==null?void 0:t.targetLiveWindow)!=null?n:Number.NaN},Me=e=>{var t,n;return(n=(t=y.get(e))==null?void 0:t.seekable)!=null?n:e.seekable},tt=e=>{var r;let t=(r=y.get(e))==null?void 0:r.liveEdgeStartOffset;if(typeof t!="number")return Number.NaN;let n=Me(e);return n.length?n.end(n.length-1)-t:Number.NaN},nt=(e,t,n=.001)=>Math.abs(e-t)<=n,ve=(e,t,n=.001)=>e>t||nt(e,t,n),be=e=>e.paused&&ve(e.currentTime,e.duration),xe=(e,t)=>e.loop||!!t?e.ended:e.ended||be(e),rt=(e,t,n)=>{ke(t,n);let{metadata:r={}}=e,{view_session_id:o=ge()}=r,a=Qe(e);r.view_session_id=o,r.video_id=a,e.metadata=r,y.set(t,{});let s=Ee(e,t);Ae(e,t,s),Se(e,t,s),F(t);let i=Q(e,t,s),c=Z(e,t,s);return{engine:s,setAutoplay:i,setPreload:c}},ke=(e,t)=>{let n=t==null?void 0:t.engine;n&&(n.detachMedia(),n.destroy()),(e==null?void 0:e.mux)&&!e.mux.deleted&&(e.mux.destroy(),delete e.mux),e&&(e.removeAttribute("src"),e.load(),e.removeEventListener("error",De),e.removeEventListener("error",B),e.removeEventListener("durationchange",Ce),y.delete(e),e.dispatchEvent(new Event("teardown")))};function Le(e,t){var u;let n=A(e);if(!(n===b.M3U8))return!0;let o=!n||((u=t.canPlayType(n))!=null?u:!0),{preferPlayback:a}=e,s=a===I.MSE,i=a===I.NATIVE;return o&&(i||!(me&&(s||$e)))}var Ee=(e,t)=>{let{debug:n,streamType:r,startTime:o=-1,metadata:a,preferCmcd:s}=e,c=A(e)===b.M3U8,u=Le(e,t);if(c&&!u&&me){let d={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0},p=Pe(r),l=s!==E.NONE?{useHeaders:s===E.HEADER,sessionId:a==null?void 0:a.view_session_id,contentId:a==null?void 0:a.video_id}:void 0;return new f({debug:n,startPosition:o,cmcd:l,...d,...p})}},Pe=e=>e===v.LIVE?{backBufferLength:8}:{},K=({playbackId:e,src:t,customDomain:n})=>{if(e)return!0;if(typeof t!="string")return!1;let r=window==null?void 0:window.location.href,o=new URL(t,r).hostname.toLocaleLowerCase();return o.includes(ye)||!!n&&o.includes(n.toLocaleLowerCase())},Ae=(e,t,n)=>{var a;let{envKey:r}=e,o=K(e);if(r||o){let{playerInitTime:s,playerSoftwareName:i,playerSoftwareVersion:c,beaconCollectionDomain:u,debug:d,disableCookies:p}=e,l={...e.metadata,video_title:((a=e==null?void 0:e.metadata)==null?void 0:a.video_title)||void 0},T=g=>typeof g.player_error_code=="string"?!1:typeof e.errorTranslator=="function"?e.errorTranslator(g):g;D.default.monitor(t,{debug:d,beaconCollectionDomain:u,hlsjs:n,Hls:n?f:void 0,automaticErrorTracking:!1,errorTranslator:T,disableCookies:p,data:{...r?{env_key:r}:{},player_software_name:i,player_software:i,player_software_version:c,player_init_time:s,...l}})}},Se=(e,t,n)=>{var a;let r=Le(e,t),{src:o}=e;if(t&&r){let s=A(e);typeof o=="string"?(t.preload==="none"?M(t,"loadstart",()=>W(o,t,s)):W(o,t,s),t.setAttribute("src",o),e.startTime&&(((a=y.get(t))!=null?a:{}).startTime=e.startTime,t.addEventListener("durationchange",Ce,{once:!0}))):t.removeAttribute("src"),t.addEventListener("error",De),t.addEventListener("error",B),t.addEventListener("emptied",()=>{t.querySelectorAll("track[data-removeondestroy]").forEach(u=>{u.remove()})},{once:!0});let i=()=>{t.ended||!xe(t)||t.dispatchEvent(new Event("ended"))};M(t,"pause",i),M(t,"seeked",i),M(t,"play",()=>{t.ended||!ve(t.currentTime,t.duration)||(t.currentTime=t.seekable.start(0))})}else n&&o?(n.once(f.Events.LEVEL_LOADED,(s,i)=>{Te(i.details,t,n)}),n.on(f.Events.ERROR,(s,i)=>{let c={[f.ErrorTypes.NETWORK_ERROR]:m.MEDIA_ERR_NETWORK,[f.ErrorTypes.MEDIA_ERROR]:m.MEDIA_ERR_DECODE},u=new m("",c[i.type]);u.fatal=i.fatal,u.data=i,t.dispatchEvent(new CustomEvent("error",{detail:u}))}),t.addEventListener("error",B),j(e,n),ee(t,n),n.attachMedia(t)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function Ce(e){var r;let t=e.target,n=(r=y.get(t))==null?void 0:r.startTime;if(!!n&&X(t.seekable,t.duration,n)){let o=t.preload==="auto";o&&(t.preload="none"),t.currentTime=n,o&&(t.preload="auto")}}async function De(e){if(!e.isTrusted)return;e.stopImmediatePropagation();let t=e.target;if(!(t!=null&&t.error))return;let{message:n,code:r}=t.error,o=new m(n,r);if(t.src&&(r!==m.MEDIA_ERR_DECODE||r!==void 0))try{let{status:a}=await fetch(t.src);o.data={response:{code:a}}}catch{}t.dispatchEvent(new CustomEvent("error",{detail:o}))}function B(e){var r,o;if(!(e instanceof CustomEvent)||!(e.detail instanceof m))return;let t=e.target,n=e.detail;!n||!n.fatal||(((r=y.get(t))!=null?r:{}).error=n,(o=t.mux)==null||o.emit("error",{player_error_code:n.code,player_error_message:n.message,player_error_context:n.context}))}
//# sourceMappingURL=index.cjs.js.map
